{"version":3,"sources":["api/api.js","serviceWorker.js","components/Navbar/Nav.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","components/utils/validators/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/store-redux.js","hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.js","redux/auth-reducer.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/Navbar/Nav.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","components/Users/users.module.css","assets/images/archi-15.jpg","assets/images/35.svg"],"names":["instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Nav","className","s","nav","item","to","activeClassName","activeLink","active","friendBlock","friendItem","Music","props","News","Settings","User","user","followingInProgress","id","src","photos","small","userPhoto","followed","disabled","some","onClick","name","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","styles","paginator","filter","p","map","selectedPage","pageNumber","key","e","Users","totalUsersCount","users","u","updateObjectInArray","items","itemId","objPropName","newObjProps","initialState","isFetching","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","state","action","totalCount","createSelector","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","Header","header","loginBlock","isAuth","HeaderContainer","auth","initialized","appReducer","reducers","combineReducers","ProfilePage","profileReducer","DialogsPage","dialogsReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","__store__","withSuspense","Suspense","fallback","LoginPage","lazy","ProfileContainer","DialogsContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","getAuthUserData","Promise","all","then","MainApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","preloader","setAuthUserData","payload","response","messages","length","stopSubmit","_error","module","exports","postsData","LikesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","dialogsData","sendMessageCreator","newMessageText"],"mappings":"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","file":"static/js/main.517757bc.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create ({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'a422b91f-124a-4b18-8f18-effef6e13fe2'\r\n    }\r\n});\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport s from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n\r\n            <div className={s.friendBlock}>\r\n                <h2>Friends</h2>\r\n                <div className={s.friendItem}>\r\n                    <NavLink to='/1' className={s.friendItem}/>\r\n                    <div>Andrey</div>\r\n                </div>\r\n                <div className={s.friendItem}>\r\n                    <NavLink to='/2' className={s.friendItem}/>\r\n                    <div>Sveta</div>\r\n                </div>\r\n                <div className={s.friendItem}>\r\n                    <NavLink to='/3' className={s.friendItem}/>\r\n                    <div>Sasha</div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from \"react\";\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from './users.module.css';\r\nimport userPhoto from '../../assets/images/archi-15.jpg';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>\r\n                            Отписаться</button>\r\n\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => { follow(user.id) }}>\r\n                            Подписаться</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n}\r\n\r\nexport default User;","import React, {useState} from \"react\";\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={cn(styles.paginator)}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={cn({\r\n                        [styles.selectedPage] : currentPage === p\r\n                    }, styles.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p);\r\n                                 }}> {p} </span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport User from \"./User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n        />\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     key={u.id}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { userAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../components/utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    totalUsersCount: 19,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users] }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalCount }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUserCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.data.items));\r\n        dispatch(setTotalUserCount(data.data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress, requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n    getPageSize, getTotalUserCount,\r\n    getCurrentPage, getIsFetching, getFollowingInProgress, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users users={this.props.users}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { unfollow, follow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers }),\r\n)(UsersContainer);","import React from \"react\";\r\nimport s from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='https://cdn.shopify.com/shopifycloud/hatchful-web/assets/6fcc76cfd1c59f44d43a485167fb3139.png'/>\r\n\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>log out</button></div>\r\n                    : <NavLink to={'/Login'}>login</NavLink> }\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    ProfilePage: profileReducer,\r\n    DialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React, { Component } from 'react';\nimport './App.css';\nimport { Route, withRouter, HashRouter } from \"react-router-dom\";\nimport Nav from \"./components/Navbar/Nav\";\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport { connect, Provider } from 'react-redux';\nimport { initializeApp } from \"./redux/app-reducer\";\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/store-redux';\nimport {withSuspense} from \"./hoc/withSuspense\";\nconst LoginPage = React.lazy(() => import('./components/Login/LoginPage'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader />\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer />\n                <Nav />\n                <div className='app-wrapper-content'>\n                    <Route path='/login' render={withSuspense(LoginPage)} />\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n                    <Route path='/users' render={() =>\n                        <UsersContainer />} />\n                    <Route path='/news' render={() => <News />} />\n                    <Route path='/music' render={() => <Music />} />\n                    <Route path='/settings' render={() => <Settings />} />\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, { initializeApp })\n)(App);\n\nconst MainApp = (props) => {\n    return <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer />\n        </Provider>\n    </HashRouter>\n}\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport MainApp from './App';\n\nReactDOM.render(<MainApp/>, document.getElementById('root'));\n\nserviceWorker.unregister();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from \"react\";\r\nimport preloader from '../../../assets/images/35.svg';\r\n\r\nconst Preloader = () => {\r\n    return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA, payload: { userId, email, login, isAuth }\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1Ds6u\",\"pageNumber\":\"Paginator_pageNumber__1l6Au\",\"selectedPage\":\"Paginator_selectedPage__LOKYZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2fx3k\",\"loginBlock\":\"Header_loginBlock__3RSQH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3K7e6\",\"item\":\"Nav_item__35ftU\",\"activeLink\":\"Nav_activeLink__O1cG1\",\"friendBlock\":\"Nav_friendBlock__1g4l2\",\"friendItem\":\"Nav_friendItem__3nAXr\"};","import { profileAPI, userAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: 'Hi, how are you?', LikesCount: 12 },\r\n        { id: 2, message: 'Hi meeeeen!!', LikesCount: 11 },\r\n        { id: 3, message: 'Yo', LikesCount: 11 },\r\n        { id: 4, message: 'Yo', LikesCount: 11 },\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                LikesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST, newPostText\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hi meeen eee!!'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return  {\r\n                ...state,\r\n                messages: [ ...state.messages, {id: 5, message: action.newMessageText} ],\r\n                newMessageText: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageText) => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageText\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3CDP5\"};","module.exports = __webpack_public_path__ + \"static/media/archi-15.1babb798.jpg\";","module.exports = __webpack_public_path__ + \"static/media/35.2cafed70.svg\";"],"sourceRoot":""}